(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesSys-my-CanceledOrder"],{"194b":function(t,e,i){"use strict";i.r(e);var a=i("408b"),s=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=s.a},"408b":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var s=a(i("1da1")),r=a(i("5530")),n=i("2f62"),u=a(i("e3fb")),c={data:function(){return{bizCard:{},order:{_id:"",recipient:{key:"",name:"",phone:"",address:"",remark:""},items:[],order_price:0,price_items:0,price_shipping:0,order_total_item_num:0,order_num:"",create_at:null},isRecipientRemark:!1}},onLoad:function(e){e.id&&(this.order._id=e.id,t("log","orderId",this.order._id," at pagesSys/my/CanceledOrder.vue:132"))},onShow:function(){this.getDetail()},computed:(0,r.default)((0,r.default)({},(0,n.mapState)(["user"])),{},{formatDateTime:function(){return function(t){var e=t;return e?u.default.formatTime(e,"yyyy-MM-dd HH:mm"):""}}}),methods:(0,r.default)((0,r.default)({},(0,n.mapMutations)(["updateUser"])),{},{getDetail:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,1==i.page&&(i.orderList=[]),a=null,e.next=5,wx.cloud.callFunction({name:"cmn",data:{$url:"getOrderById",id:i.order._id}});case 5:a=e.sent,i.order=a.result.data,i.isRecipientRemark=!u.default.isEmpty(i.order.recipient.remark);case 8:case"end":return e.stop()}}),e)})))()},goDetail:function(t){uni.navigateTo({url:"/pagesCmn/product/ProductDetailExt?id="+t})},startTalk:function(){uni.navigateTo({url:"/pagesSys/site/service"})},removeOrder:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,e.next=3,wx.cloud.callFunction({name:"cmn",data:{$url:"removeOrder",id:i.order._id}});case 3:uni.showToast({icon:"success",title:"删除订单成功"}),setTimeout((function(){uni.navigateBack()}),1e3);case 5:case"end":return e.stop()}}),e)})))()}})};e.default=c}).call(this,i("0de9")["log"])},9809:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{attrs:{isBack:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("订单详情")])],2),i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"margin-xs flex align-center text-center"},[i("v-uni-text",{staticClass:"padding-xxl bg-green text-xxl radius",staticStyle:{width:"100%"}},[t._v("已取消")])],1),i("v-uni-view",{staticClass:"cu-bar  margin-top-sm solid-bottom"},[i("v-uni-view",{staticClass:"action"},[t._v("物流信息")])],1),i("v-uni-view",{staticClass:"cu-list menu-avatar no-padding"},[i("v-uni-view",{staticClass:"cu-item  card-radius margin-top-xxs margin-left-xs margin-right-xs margin-bottom-xs"},[i("v-uni-view",{staticClass:"cu-avatar round"},[i("v-uni-view",{staticClass:"text-sm text-cut"},[t._v(t._s(t.order.recipient.key))])],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(t.order.recipient.name)),i("v-uni-text",{staticClass:"margin-left-sm text-abc"},[t._v(t._s(t.order.recipient.phone))])],1),i("v-uni-view",{staticClass:"text-gray text-sm text-cut"},[t._v(t._s(t.order.recipient.address))])],1)],1)],1),i("v-uni-view",{staticClass:"cu-bar  margin-top-sm solid-bottom"},[i("v-uni-view",{staticClass:"action"},[t._v("商品信息")])],1),i("v-uni-view",{staticClass:"cu-card article solid-bottom",staticStyle:{width:"100%"}},[t._l(t.order.items,(function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"cu-item shadow flex solid-bottom",staticStyle:{margin:"0 10rpx 0 10rpx",padding:"20rpx 0"}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-image",{staticClass:"bg-gray",staticStyle:{width:"30%"},attrs:{src:e.cover,mode:"aspectFill"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetail(e.id)}}}),i("v-uni-view",{staticClass:"desc",staticStyle:{width:"70%"}},[i("v-uni-view",{staticClass:"text-content",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetail(e.id)}}},[i("v-uni-text",{attrs:{clas:"text-bold"}},[t._v(t._s(e.title))]),i("v-uni-text",{staticClass:"text-cut text-sm"},[t._v(t._s(e.content))])],1),i("v-uni-view",{staticClass:"flex margin-top-sm  \ufeffjustify-between"},[i("v-uni-view",{staticClass:"cu-capsule radius "},[i("v-uni-text",{staticClass:"text-gray"},[t._v(t._s("¥ "+parseFloat(e.price).toFixed(2)+e.unit_name))])],1),i("v-uni-view",{staticClass:"text-gray"},[t._v(t._s("x"+e.num))])],1)],1)],1)],1)]}))],2),i("v-uni-view",{staticClass:"margin-xs solid-bottom"},[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title",staticStyle:{"font-size":"26upx"}},[t._v("商品总价")]),i("v-uni-view",{staticClass:"text-left"},[t._v(t._s("¥ "+parseFloat(t.order.price_items).toFixed(2)))])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title",staticStyle:{"font-size":"26upx"}},[t._v("订单运费")]),i("v-uni-view",{staticClass:"text-left"},[t._v(t._s("¥ "+parseFloat(t.order.price_shipping).toFixed(2)))])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"}),i("v-uni-view",{staticClass:"text-left"},[t._v("共"+t._s(t.order.order_total_item_num)+"件，实付款"),i("v-uni-text",{staticClass:"margin-left-sm text-red text-lg text-bold"},[t._v(t._s("¥ "+parseFloat(t.order.order_price).toFixed(2)))])],1)],1)],1),i("v-uni-view",{staticClass:"margin-xs solid-bottom"},[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title",staticStyle:{"font-size":"26upx"}},[t._v("订单编号")]),i("v-uni-view",{staticClass:"text-left"},[t._v(t._s(t.order.order_num))])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title",staticStyle:{"font-size":"26upx"}},[t._v("用户备注")]),i("v-uni-view",{staticClass:"text-left"},[t._v(t._s(t.order.recipient.remark))])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title",staticStyle:{"font-size":"26upx"}},[t._v("下单时间")]),i("v-uni-view",{staticClass:"text-left"},[t._v(t._s(t.formatDateTime(t.order.create_at)))])],1)],1),i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-view",{staticClass:"cu-bar bg-white tabbar border  foot"},[i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.startTalk.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cuIcon-cu-image"},[i("v-uni-text",{staticClass:"cuIcon-message lg text-bold text-grey"})],1),i("v-uni-view",{staticClass:"text-gray"},[t._v("联系商家")])],1),i("v-uni-view",{staticClass:"bg-green submit text-lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.removeOrder.apply(void 0,arguments)}}},[t._v("删除订单")])],1)],1)],1)},r=[]},"99c1":function(t,e,i){"use strict";i.r(e);var a=i("9809"),s=i("194b");for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);var n,u=i("f0c5"),c=Object(u["a"])(s["default"],a["b"],a["c"],!1,null,"00b66955",null,!1,a["a"],n);e["default"]=c.exports},e3fb:function(t,e,i){function a(t){return""===t||("null"===t||("undefined"===t||(!t&&0!==t&&""!==t||(!(!Array.prototype.isPrototypeOf(t)||0!==t.length)||!(!Object.prototype.isPrototypeOf(t)||0!==Object.keys(t).length)))))}function s(t,e){if(t){switch(e||(e="yyyy-MM-dd"),typeof t){case"string":t=new Date(t.replace(/-/,"/"));break;case"number":t=new Date(t);break}if(!(!t instanceof Date)){var i={yyyy:t.getFullYear(),M:t.getMonth()+1,d:t.getDate(),H:t.getHours(),m:t.getMinutes(),s:t.getSeconds(),MM:(""+(t.getMonth()+101)).substr(1),dd:(""+(t.getDate()+100)).substr(1),HH:(""+(t.getHours()+100)).substr(1),mm:(""+(t.getMinutes()+100)).substr(1),ss:(""+(t.getSeconds()+100)).substr(1)};return e.replace(/(yyyy|MM?|dd?|HH?|ss?|mm?)/g,(function(){return i[arguments[0]]}))}}}function r(){return this.dateFormat(new Date,"yyyyMMdd")}function n(t,e){if(t){switch(e||(e="yyyy-MM-dd"),typeof t){case"string":t=new Date(t);break;case"number":t=new Date(t);break}if(!(!t instanceof Date)){var i={yyyy:t.getFullYear(),M:t.getMonth()+1,d:t.getDate(),H:t.getHours(),m:t.getMinutes(),s:t.getSeconds(),MM:(""+(t.getMonth()+101)).substr(1),dd:(""+(t.getDate()+100)).substr(1),HH:(""+(t.getHours()+100)).substr(1),mm:(""+(t.getMinutes()+100)).substr(1),ss:(""+(t.getSeconds()+100)).substr(1)};return e.replace(/(yyyy|MM?|dd?|HH?|ss?|mm?)/g,(function(){return i[arguments[0]]}))}}}function u(t,e){var i=!1,a=Date.parse(t),s=Date.parse(e),r=new Date(s).setHours(0,0,0,0);return a<r&&(i=!0),i}function c(t,e){var i=!1,a=Date.parse(t),s=Date.parse(e);return a<s&&(i=!0),i}function o(t){if(t){var e=Date.parse(t),i=Date.parse(new Date),a=Math.abs(i-e);if(a>6048e5){var s=new Date(e),r=s.getFullYear(),n=s.getMonth()+1,u=s.getDate(),c=(new Date).getFullYear();return c==r?n+"月"+u+"日":r+"年"+n+"月"+u+"日"}if(a<6048e5&&a>864e5){var o=Math.floor(a/864e5);return o+"天前"}if(a<864e5&&a>36e5){o=Math.floor(a/36e5);return o+"小时前"}if(a<36e5&&a>=0)return"刚刚"}}function l(t){var e=/^[1][3,4,5,7,8,9][0-9]{9}$/;return!(!e.test(t)||11!=t.length)}function v(){var t=new Date,e="user/"+t.getFullYear()+(""+(t.getMonth()+101)).substr(1)+"/";return e}function d(t){var e="",i=6e4,a=60*i,s=24*a,r=30*s,n=(new Date).getTime(),u=n-t;if(!(u<0)){var c=u/r,o=u/(7*s),l=u/s,v=u/a,d=u/i;return e=c>=1?parseInt(c)+"月前":o>=1?parseInt(o)+"周前":l>=1?parseInt(l)+"天前":v>=1?parseInt(v)+"小时前":d>=1?parseInt(d)+"分钟前":"刚刚",e}}i("b64b"),i("e25e"),i("ac1f"),i("5319"),t.exports={isEmpty:a,dateFormat:s,today:r,formatTime:n,isDayBefore:u,isTimeBefore:c,formatCreateTime:o,isPhoneAvailable:l,cloudUploadPath:v,getDateDiff:d}}}]);