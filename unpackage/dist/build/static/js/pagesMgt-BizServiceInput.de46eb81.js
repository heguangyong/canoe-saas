(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesMgt-BizServiceInput"],{7772:function(t,e,a){"use strict";a.r(e);var n=a("fed9"),i=a.n(n);for(var c in n)"default"!==c&&function(t){a.d(e,t,(function(){return n[t]}))}(c);e["default"]=i.a},c941:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("cu-custom",{attrs:{isBack:!0}},[a("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),a("template",{attrs:{slot:"content"},slot:"content"},[t._v("系统配置")])],2),a("v-uni-scroll-view",[a("v-uni-form",[a("v-uni-view",{staticClass:"padding"},[a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("服务编号"),a("v-uni-text",{staticClass:"cuIcon-titles text-xs text-orange"})],1),a("v-uni-input",{attrs:{placeholder:"请输入服务编号"},model:{value:t.account.account_key,callback:function(e){t.$set(t.account,"account_key",e)},expression:"account.account_key"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("服务名称"),a("v-uni-text",{staticClass:"cuIcon-titles text-xs text-orange"})],1),a("v-uni-input",{attrs:{placeholder:"请输入服务名称"},model:{value:t.account.title,callback:function(e){t.$set(t.account,"title",e)},expression:"account.title"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("服务图标"),a("v-uni-text",{staticClass:"cuIcon-titles text-xs text-orange"})],1),a("v-uni-input",{attrs:{placeholder:"请输入服务图标"},model:{value:t.account.name,callback:function(e){t.$set(t.account,"name",e)},expression:"account.name"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("服务链接")]),a("v-uni-input",{attrs:{placeholder:"请输入服务链接"},model:{value:t.account.url,callback:function(e){t.$set(t.account,"url",e)},expression:"account.url"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("是否可见")]),a("v-uni-input",{attrs:{placeholder:"请输入是否可见"},model:{value:t.account.is_show,callback:function(e){t.$set(t.account,"is_show",e)},expression:"account.is_show"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("是否禁用")]),a("v-uni-input",{attrs:{placeholder:"请输入是否禁用"},model:{value:t.account.is_forbidden,callback:function(e){t.$set(t.account,"is_forbidden",e)},expression:"account.is_forbidden"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("访问角色")]),a("v-uni-input",{attrs:{placeholder:"请输入访问角色"},model:{value:t.account.need_role,callback:function(e){t.$set(t.account,"need_role",e)},expression:"account.need_role"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("帐户名称")]),a("v-uni-input",{attrs:{placeholder:"请输入帐户名称"},model:{value:t.account.user_name,callback:function(e){t.$set(t.account,"user_name",e)},expression:"account.user_name"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("帐户密码")]),a("v-uni-input",{attrs:{placeholder:"请输入帐户密码"},model:{value:t.account.password,callback:function(e){t.$set(t.account,"password",e)},expression:"account.password"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("是否支持H5")]),a("v-uni-input",{attrs:{placeholder:"请输入是否支持H5"},model:{value:t.account.support_h5,callback:function(e){t.$set(t.account,"support_h5",e)},expression:"account.support_h5"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("H5服务链接")])],1),a("v-uni-textarea",{staticClass:"text-box font40 bg-white width100 padding-sm solid",staticStyle:{height:"100rpx"},attrs:{"scroll-y":"true",maxlength:"1200",placeholder:"请输入H5链接"},model:{value:t.account.h5_link,callback:function(e){t.$set(t.account,"h5_link",e)},expression:"account.h5_link"}}),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("接口列表")])],1),a("v-uni-textarea",{staticClass:"text-box font40 bg-white text-grey width100 padding-sm solid",staticStyle:{height:"500rpx"},attrs:{"scroll-y":"true",maxlength:"1200",placeholder:"备注对应接口列表中的参数信息，内容由技术人员后台维护，此处显示作为参考"}}),a("v-uni-view",{staticClass:"cu-tabbar-height bg-white"}),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("备注")])],1),a("v-uni-textarea",{staticClass:"text-box font40 bg-white text-grey width100 padding-sm solid",staticStyle:{height:"500rpx"},attrs:{"scroll-y":"true",maxlength:"1200",placeholder:"请输入备注"},model:{value:t.account.remark,callback:function(e){t.$set(t.account,"remark",e)},expression:"account.remark"}}),a("v-uni-view",{staticClass:"cu-tabbar-height bg-white"})],1)],1),a("v-uni-view",{staticClass:"cu-tabbar-height"})],1),a("v-uni-view",{staticClass:"cu-bar btn-group foot bg-white",staticStyle:{"z-index":"99"}},[a("v-uni-button",{staticClass:"cu-btn  round line-grey",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelSubmit.apply(void 0,arguments)}}},[t._v("取消")]),a("v-uni-button",{staticClass:"cu-btn  round line-grey",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1)],1)},c=[]},d98b:function(t,e,a){"use strict";a.r(e);var n=a("c941"),i=a("7772");for(var c in i)"default"!==c&&function(t){a.d(e,t,(function(){return i[t]}))}(c);var u,s=a("f0c5"),o=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"3999c4f7",null,!1,n["a"],u);e["default"]=o.exports},fed9:function(t,e,a){"use strict";(function(t){var n=a("4ea4");a("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var i=n(a("1da1")),c=n(a("5530")),u=a("2f62"),s={data:function(){return{bizCard:{},account:{account_key:"",title:"",name:"",url:"",is_show:!0,is_forbidden:!0,need_role:"",user_name:"",password:"",support_h5:!1,h5_link:"",remark:""}}},onShow:function(){this.getBizCardDetail()},computed:(0,c.default)({},(0,u.mapState)(["user"])),methods:{getBizCardDetail:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e,a.next=3,wx.cloud.callFunction({name:"sys",data:{$url:"getCardDetailById",id:n.user.userInfo.bizCardId}});case 3:i=a.sent,t("log",i," at pagesMgt/BizServiceInput.vue:123"),n.bizCard=i.result.data;case 6:case"end":return a.stop()}}),a)})))()},cancelSubmit:function(){uni.navigateBack()},submit:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,0!=a.account.account_key.trim().length){e.next=4;break}return uni.showToast({icon:"none",title:"请填写服务编号"}),e.abrupt("return");case 4:if(0!=a.account.title.trim().length){e.next=7;break}return uni.showToast({icon:"none",title:"请填写服务名称"}),e.abrupt("return");case 7:return n=a.account.account_key+a.account.title+a.account.name+a.account.user_name+a.account.password+a.account.h5_link+a.account.remark,e.next=10,wx.cloud.callFunction({name:"sys",data:{$url:"msgSecCheck",value:n}});case 10:if(i=e.sent,0==i.result.code){e.next=14;break}return uni.showToast({icon:"none",title:"内容含有违规内容，请修改后提交"}),e.abrupt("return");case 14:if(a.bizCard.accounts||(a.bizCard.accounts=[]),a.bizCard.accounts.push(a.account),!a.bizCard._id){e.next=19;break}return e.next=19,wx.cloud.callFunction({name:"sys",data:{$url:"updateCard",card:a.bizCard}});case 19:uni.navigateTo({url:"/pagesMgt/BizServiceList"});case 20:case"end":return e.stop()}}),e)})))()}}};e.default=s}).call(this,a("0de9")["log"])}}]);