(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesMgt-AddressList"],{"8d5d":function(t,e,i){"use strict";var n=i("e44a"),a=i.n(n);a.a},"9a37":function(t,e,i){"use strict";i.r(e);var n=i("9fad"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"9f7d":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uniPopup:i("6ac9").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:1==t.isUps?"prevent":""},[i("cu-custom",{attrs:{isBack:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("退货地址")])],2),i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"cu-list menu-avatar no-padding"},[t._l(t.bizCard.recipients,(function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"cu-item  card-radius margin-top-xxs margin-left-xs margin-right-xs margin-bottom-xs shadow bg-white.light",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.setAsDefault(e)}}},[i("v-uni-view",{staticClass:"cu-avatar round"},[i("v-uni-view",{staticClass:"text-sm text-cut"},[t._v(t._s(e.key))])],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.name)),i("v-uni-text",{staticClass:"margin-left-sm text-abc"},[t._v(t._s(e.phone))])],1),i("v-uni-view",{staticClass:"text-gray text-sm text-cut"},[t._v(t._s(e.address))])],1),i("v-uni-view",{staticClass:"action"},[e.as_default?i("v-uni-text",{staticClass:"cuIcon-check text-green",staticStyle:{"font-size":"38rpx"}}):t._e()],1)],1)]}))],2),i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-view",{staticClass:"cu-tabbar-height"}),t.isUps?t._e():i("v-uni-view",{staticClass:"cu-bar bg-white tabbar border  foot"},[i("v-uni-view",{staticClass:"bg-green submit text-lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showNewAddress.apply(void 0,arguments)}}},[t._v("添加地址")])],1)],1),t.isUps?i("v-uni-view",{staticClass:"shade"}):t._e(),i("uni-popup",{ref:"showPopupNewAddress",attrs:{type:"bottom"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"popup bg-white"},[i("v-uni-text",{staticClass:"cuIcon-close popup-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel("PopupNewAddress")}}}),i("v-uni-text",{staticClass:"popup-title"},[t._v("添加新地址")]),i("v-uni-view",{staticClass:"popup-content"},[i("v-uni-scroll-view",{staticClass:"ups-height",attrs:{"scroll-y":"true"}},[i("v-uni-view",[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("标题")]),i("v-uni-input",{staticClass:"text-left",attrs:{placeholder:"例如：家、公司",value:t.recipient.key},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputKey.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("姓名")]),i("v-uni-input",{staticClass:"text-left",attrs:{placeholder:"姓名",value:t.recipient.name},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputName.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("电话")]),i("v-uni-input",{staticClass:"text-left",attrs:{placeholder:"联系电话",type:"tel",value:t.recipient.phone},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputPhone.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("邮寄地址")]),i("v-uni-input",{staticClass:"text-left",attrs:{placeholder:"请输入邮寄地址",value:t.recipient.address},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputAddress.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cu-bar solid-bottom margin-top-xxs radius"}),i("v-uni-view",{staticClass:"cu-bar btn-group  foot bg-white"},[i("v-uni-button",{staticClass:"cu-btn   round line-grey",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveAddress.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)],1)],1)],1)},s=[]},"9fad":function(t,e,i){"use strict";var n=i("4ea4");i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a=n(i("1da1")),s=n(i("5530")),r=i("2f62"),o=n(i("6ac9")),u={components:{"uni-popup":o.default},data:function(){return{isUps:!1,recipient:{key:"",address:"",name:"",phone:"",remark:"",as_default:!1},bizCard:{recipients:[{key:"",name:"",phone:"",address:""}]}}},onShow:function(){this.getCardDetail()},computed:(0,s.default)({},(0,r.mapState)(["user"])),methods:{getCardDetail:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,e.next=3,wx.cloud.callFunction({name:"sys",data:{$url:"getCardDetailById",id:i.user.userInfo.bizCardId}});case 3:n=e.sent,i.bizCard=n.result.data;case 5:case"end":return e.stop()}}),e)})))()},setAsDefault:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e,n.bizCard.recipients.forEach((function(e){e.as_default=e.key==t.key})),i.next=4,wx.cloud.callFunction({name:"sys",data:{$url:"updateCard",card:n.bizCard}});case 4:n.$forceUpdate();case 5:case"end":return i.stop()}}),i)})))()},showNewAddress:function(){var t=this;t.$nextTick((function(){t.isUps=!0,t.$refs["showPopupNewAddress"].open()}))},cancel:function(t){this.$refs["show"+t].close()},change:function(t){t.show?this.isUps=!0:this.isUps=!1},inputKey:function(t){this.recipient.key=t.detail.value},inputName:function(t){this.recipient.name=t.detail.value},inputPhone:function(t){this.recipient.phone=t.detail.value},inputAddress:function(t){this.recipient.address=t.detail.value},inputRemark:function(t){this.recipient.remark=t.detail.value},getPhoneNumber:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var n,a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e,a={},s={},i.next=5,wx.cloud.callFunction({name:"sys",data:{$url:"getPhone",cloudId:t.detail.cloudID}});case 5:a=i.sent,s=a.result.data,0==a.result.code&&(wx.showToast({title:"授权成功",success:function(){}}),n.recipient.phone=s.phoneNumber,n.$forceUpdate());case 8:case"end":return i.stop()}}),i)})))()},saveAddress:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,i.bizCard.recipients.push(i.recipient),e.next=4,wx.cloud.callFunction({name:"sys",data:{$url:"updateCard",card:i.bizCard}});case 4:i.$forceUpdate(),uni.showToast({icon:"success",title:"添加成功"}),i.$refs["showPopupNewAddress"].close();case 7:case"end":return e.stop()}}),e)})))()}}};e.default=u},cf1b:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".page[data-v-948d85e2]{z-index:0;height:100vh}\n/* 底部分享 */.popup[data-v-948d85e2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:%?950?%;padding-bottom:62px;position:fixed;left:0;bottom:0;width:100%;z-index:95;border-top-left-radius:3%;border-top-right-radius:3%}.popup-close[data-v-948d85e2]{position:absolute;top:%?30?%;left:%?30?%;font-size:%?39?%;text-align:center;font-weight:700;z-index:199}.popup-title[data-v-948d85e2]{margin-top:%?15?%;line-height:%?60?%;font-size:%?28?%;padding:%?5?% 0;text-align:center;font-weight:700}.popup-content[data-v-948d85e2]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:5px;max-height:%?950?%}\n/* 起到固定的作用 ,从而解决原页面触摸穿透的问题*/.prevent[data-v-948d85e2]{width:100%;height:100%;\n\t/*自动回到顶部*/\n\t/*position: fixed;*/top:0;left:0;overflow:hidden}\n/* 遮罩样式 */.shade[data-v-948d85e2]{width:100%;height:100%;position:fixed;top:0;left:0;z-index:90}.ups-height[data-v-948d85e2]{height:%?850?%;position:fixed;left:0;bottom:0;z-index:99}",""]),t.exports=e},e44a:function(t,e,i){var n=i("cf1b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("256d9de6",n,!0,{sourceMap:!1,shadowMode:!1})},fc07:function(t,e,i){"use strict";i.r(e);var n=i("9f7d"),a=i("9a37");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("8d5d");var r,o=i("f0c5"),u=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"948d85e2",null,!1,n["a"],r);e["default"]=u.exports}}]);