{"version":3,"sources":["uni-app:///main.js","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizAboutInput.vue?5d78","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizAboutInput.vue?8945","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizAboutInput.vue?3c93","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizAboutInput.vue?b0f2","uni-app:///pagesMgt/BizAboutInput.vue","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizAboutInput.vue?1e12"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","name","data","console","log","res","that","card","result","imgList","secRes"],"mappings":"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","file":"pagesMgt/BizAboutInput.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesMgt/BizAboutInput.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./BizAboutInput.vue?vue&type=template&id=24faeaf6&\"\nvar renderjs\nimport script from \"./BizAboutInput.vue?vue&type=script&lang=js&\"\nexport * from \"./BizAboutInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BizAboutInput.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesMgt/BizAboutInput.vue\"\nexport default component.exports","export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizAboutInput.vue?vue&type=template&id=24faeaf6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizAboutInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizAboutInput.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n        <cu-custom    :isBack=\"true\">\n\t\t\t<block slot=\"backText\">返回</block>\n            <block slot=\"content\">企业介绍</block>\n        </cu-custom>\n\t\t<scroll-view> \n\t\t\t<form>\n\t\t\t\t<view class=\"padding\">\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">公司名称</view>\n\t\t\t\t\t\t<text class='cuIcon-titles text-xs text-orange'></text>\n\t\t\t\t\t\t<input placeholder=\"请输入公司名称\" v-model=\"card.name\"></input>\n\t\t\t\t\t</view>\t\t\t\t\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">联系电话</view>\n\t\t\t\t\t\t<input placeholder=\"请输入联系电话\" v-model=\"card.phone\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">头像</view>\n\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t<ups-upload\n\t\t\t\t\t\t\t\tfileType=\"image\"\n\t\t\t\t\t\t\t\t:uploadFile = \"card.avatar\"\n\t\t\t\t\t\t\t\t@upload =\"uploadAvatar\"\n\t\t\t\t\t\t\t\t@remove = \"removeAvatar\"\n\t\t\t\t\t\t\t\t></ups-upload>\t\t\t\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">邮箱</view>\n\t\t\t\t\t\t<input v-model=\"card.email\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">导航地址</view>\n\t\t\t\t\t\t<view class=\"cuIcon-locationfill\" @tap=\"chooseAddress\">{{hasAddress?card.corp_address.address:'请选择地址'}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">联系地址</view>\n\t\t\t\t\t\t<input  v-model=\"card.mailing_address\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">文字介绍</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<textarea class=\"text-box font40 bg-white width100 padding-sm solid\" style=\"height: 500rpx;\" scroll-y=\"true\" maxlength=\"1200\" placeholder=\"请输入文字介绍\" v-model=\"card.introduce\" >\n\t\t\t\t\t</textarea>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">视频介绍</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"bg-white padding-sm\">\n\t\t\t\t\t\t<ups-uploads\n\t\t\t\t\t\t\tfileType=\"video\"\n\t\t\t\t\t\t\t:fileList = \"card.videos\"\n\t\t\t\t\t\t\tmaxNum = 1\n\t\t\t\t\t\t\t@upload = \"uploadVideos\"\n\t\t\t\t\t\t\t@remove = \"removeVideos\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</ups-uploads>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">图片介绍</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"bg-white padding-sm\">\n\t\t\t\t\t\t<ups-movable\n\t\t\t\t\t\t\t\t:imgList = \"card.imgList\"\n\t\t\t\t\t\t\t\timgSize= 75\n\t\t\t\t\t\t\t\tmaxNum = 9\n\t\t\t\t\t\t\t\t@moveEndList=\"moveEndListHandle\"\n\t\t\t\t\t\t\t\t@upload = \"uploadCarousels\"\n\t\t\t\t\t\t\t\t@remove = \"removeCarousels\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</ups-movable>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-tabbar-height bg-white\"></view>\n\t\t\t\t\t<view class=\"cu-tabbar-height bg-white\"></view>\n\t\t\t\t\t<view class=\"cu-tabbar-height bg-white\"></view>\n\t\t\t\t</view>\n\t\t\t</form>\n\t\t\t<view class=\"cu-tabbar-height\"></view>\n\t\t</scroll-view>\n\t\t<!-- 底部操作菜单 -->\n\t\t<view class=\"cu-bar btn-group foot bg-white\" style=\"z-index: 99;\">\n\t\t\t<button class=\"cu-btn  round line-grey\"    @click=\"cancelSubmit\">取消</button>\n\t\t\t<button class=\"cu-btn  round line-grey\"   @click=\"submit\">提交</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { mapState ,mapMutations} from 'vuex'\n\timport upsUploads from '@/components/ups-uploads/index.vue'\n\timport upsUpload from '@/components/ups-upload/index.vue'\n    import upsMovable from '@/components/ups-movable/index.vue'\n\n\texport default {\n\t\tcomponents:{\n\t\t\t\"ups-uploads\":upsUploads,\n\t\t\t\"ups-upload\":upsUpload,\n            \"ups-movable\":upsMovable,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcard:{\n\t\t\t\t\tcarousels:[],\n                    imgList:[],\n\t\t\t\t\tvideos:[]\n\t\t\t\t},\n                hasAddress:false,\n                currentUser:{}//当前编辑的用户帐号\n\t\t\t}\n\t\t},\n        onLoad(options) {\n            let that = this;\n            if(options.id){\n                that.card._id = options.id;\n                that.getBizCardDetail(options.id);\n            }\n\t\t},\n\t\tcomputed:{\n\t\t\t...mapState(['user','httpPath']),\n\t\t},\n\t\tmethods: {\n            async getBizCardDetail(id){\n                let that = this;\n                let res = await wx.cloud.callFunction({\n                    name:'sys',\n                    data:{\n                        $url:'getCardDetailById',\n                        id:id,\n                    }\n                });\n                console.log(res);\n                that.card = res.result.data;\n                if(that.card.corp_address){\n                    that.hasAddress= true;\n                }else{\n                    that.hasAddress= false;\n                    that.card.corp_address = {address:'',latitude:0,longitude:0}\n                }\n                that.card.imgList=[];\n                if(that.card.carousels && that.card.carousels.length>0){\n                    that.card.carousels.forEach(each =>{\n                        that.card.imgList.push({'url':each});\n                    });\n\t\t\t\t}\n            },\n\n\t\t\tuploadAvatar(fileId){\n\t\t\t\tthis.card.avatar = fileId;\n\t\t\t\tthis.$forceUpdate()\n\t\t\t},\n\t\t\tremoveAvatar(){\n\t\t\t\tthis.card.avatar = \"\";\n\t\t\t\tthis.$forceUpdate()\n\t\t\t},\n\n            moveEndListHandle(imgArr){\n                // console.log('moveEndListHandle',imgArr);\n                let that = this;\n                that.card.imgList = imgArr;\n                that.card.carousels = [];\n                that.card.imgList.forEach(each=>{\n                    that.card.carousels.push(each.url);\n                });\n                that.$forceUpdate();\n            },\n\n\t\t\tuploadCarousels(fileId){\n\t\t\t    if(!this.card.carousels){\n                    this.card.carousels=[];\n\t\t\t\t}\n\t\t\t\tthis.card.carousels.push(fileId);\n                this.card.imgList.push({'url':fileId});\n\t\t\t\tthis.$forceUpdate()\n\t\t\t},\n\t\t\tremoveCarousels(idx){\n\t\t\t\tthis.card.carousels.splice(idx, 1);\n                this.card.imgList.splice(idx, 1);\n\t\t\t\tthis.$forceUpdate()\n\t\t\t},\n\t\t\tuploadVideos(fileId){\n\t\t\t    if(!this.card.videos){\n                    this.card.videos=[];\n\t\t\t\t}\n\t\t\t\tthis.card.videos.push(fileId);\n\t\t\t\tthis.$forceUpdate()\n\t\t\t},\n\t\t\tremoveVideos(idx){\n\t\t\t\tthis.card.videos.splice(idx, 1);\n\t\t\t\tthis.$forceUpdate()\n\t\t\t},\n\n            cancelSubmit(){\n                uni.navigateBack();\n\t\t\t},\n\n\t\t\tasync submit(){\n\t\t\t    let that = this;\n                // console.log('card',that.card,that.card.phone);\n                let checkValue = that.card.name+that.card.introduce;\n                let secRes = await wx.cloud.callFunction({\n                    name:'sys',\n                    data:{\n                        $url:'msgSecCheck',\n                        value:checkValue\n                    }\n                });\n                console.log(secRes);\n                if(secRes.result.code!=0){\n                    uni.showToast({\n                        icon:'none',\n                        title:'内容含有违规内容，请修改后提交'\n                    });\n                    return;\n                }\n                if(that.card._id){\n                    await wx.cloud.callFunction({\n                        name:'sys',\n                        data:{\n                            $url:'updateCard',\n                            card:that.card,\n                        }\n                    });\n\t\t\t\t}else{\n                    //企业名片主页站点初始化\n\t\t\t\t\tthat.card.site_bg='https://7072-prod-9goq82ctb17bd75f-1306535128.tcb.qcloud.la/resource/MainBg.png';\n                    that.card.site=[\n                        {\n                            title: '最新产品',\n                            name: 'product',\n                            color: 'purple',\n                            cuIcon: 'shop',\n                            isOpen: true,\n                            auth:true\n                        },\n                        {\n                            title: '企业展厅',\n                            name: 'trend',\n                            color: 'mauve',\n                            cuIcon: 'pic',\n                            isOpen: true,\n                            auth:true\n                        },\n                        {\n                            title: '线上活动',\n                            name: 'activity',\n                            color: 'cyan',\n                            cuIcon: 'activity',\n                            isOpen: true,\n                            auth:true\n                        },\n                        {\n                            title: '客服沟通',\n                            name: 'service',\n                            color: 'blue',\n                            cuIcon: 'service',\n                            isOpen: true,\n                            auth:true\n                        },\n\n                        {\n                            title: '企业服务',\n                            name: 'company',\n                            color: 'red',\n                            cuIcon: 'moreandroid',\n                            isOpen: true,\n                            auth:true\n                        },\n                        {\n                            title: '关于我们',\n                            name: 'about',\n                            color: 'green',\n                            cuIcon: 'info',\n                            isOpen: true,\n                            auth:true\n                        }\n\t\t\t\t\t];\n\n\t\t\t\t\t//给定名片使用权限\n                    that.card.accounts=[{\n\t\t\t\t\t\t\taccount_key:'0000',\n\t\t\t\t\t\t\tapi_map:{},\n\t\t\t\t\t\t\th5_link:'/pagesSys/card/CardDetail',\n\t\t\t\t\t\t\tis_forbidden:false,\n\t\t\t\t\t\t\tis_show:true,\n\t\t\t\t\t\t\tname:'vipcard',\n\t\t\t\t\t\t\tneed_role:'normal',\n\t\t\t\t\t\t\tpassword:'',\n\t\t\t\t\t\t\tremark:'',\n\t\t\t\t\t\t\tsupport_h5:true,\n\t\t\t\t\t\t\ttitle:'我的名片',\n\t\t\t\t\t\t\turl:'/pagesSys/card/CardDetail',\n\t\t\t\t\t\t\tuser_name:'',\n\t\t\t\t\t\t\tview_count:0\n\t\t\t\t\t\t},\n                        {\n                           account_key: \"1100\",\n                           api_map: {},\n                           h5_link: \"\",\n                           is_forbidden: false,\n                           is_show: true,\n                           name: \"edit\",\n                           need_role: \"cardAdmin\",\n                           password: \"\",\n                           remark: \"\",\n                           support_h5: false,\n                           title: \"关于我们\",\n                           url: \"/pagesMgt/BizCardInput\",\n                           user_name: \"\",\n                           view_count: 0\n                        },\n                        {\n                           account_key: \"2200\",\n                           api_map: {},\n                           h5_link: \"/pagesMgt/BizProductList\",\n                           is_forbidden: true,\n                           is_show: true,\n                           name: \"goods\",\n                           need_role: \"cardAdmin\",\n                           password: \"\",\n                           remark: \"\",\n                           support_h5: true,\n                           title: \"最新产品\",\n                           url: \"/pagesMgt/BizProductList\",\n                           user_name: \"\",\n                           view_count: 0\n                        },\n                        {\n                           account_key: \"3300\",\n                           api_map: {},\n                           h5_link: \"/pagesMgt/BizActivityList\",\n                           is_forbidden: true,\n                           is_show: true,\n                           name: \"activity\",\n                           need_role: \"cardAdmin\",\n                           password: \"\",\n                           remark: \"\",\n                           support_h5: true,\n                           title: \"线上活动\",\n                           url: \"/pagesMgt/BizActivityList\",\n                           user_name: \"\",\n                           view_count: 0\n                        },\n                        {\n                           account_key: \"4400\",\n                           api_map: {},\n                           h5_link: \"\",\n                           is_forbidden: true,\n                           is_show: true,\n                           name: \"record\",\n                           need_role: \"cardAdmin\",\n                           password: \"\",\n                           remark: \"\",\n                           support_h5: false,\n                           title: \"企业展厅\",\n                           url: \"/pagesMgt/BizTrendList\",\n                           user_name: \"\",\n                           view_count: 0\n                        },\n                        {\n                           account_key: \"5500\",\n                           api_map: {},\n                           h5_link: \"/pagesMgt/BizMsgList\",\n                           is_forbidden: true,\n                           is_show: true,\n                           name: \"community\",\n                           need_role: \"cardAdmin\",\n                           password: \"\",\n                           remark: \"\",\n                           support_h5: true,\n                           title: \"客服消息\",\n                           url: \"/pagesMgt/BizMsgList\",\n                           user_name: \"\",\n                           view_count: 0\n                        },\n                        {\n                           account_key: \"8810\",\n                           api_map: {},\n                           h5_link: \"\",\n                           is_forbidden: true,\n                           is_show: false,\n                           name: \"news\",\n                           need_role: \"cardAdmin\",\n                           password: \"\",\n                           remark: \"\",\n                           support_h5: false,\n                           title: \"企业服务\",\n                           url: \"/pagesMgt/BizCardList\",\n                           user_name: \"\",\n                           view_count: \"0\"\n                        },\n                        {\n                           account_key: \"8800\",\n                           api_map: {},\n                           h5_link: \"/pagesMgt/PersonCardList\",\n                           is_forbidden: true,\n                           is_show: true,\n                           name: \"friend\",\n                           need_role: \"cardAdmin\",\n                           password: \"\",\n                           remark: \"\",\n                           support_h5: true,\n                           title: \"用户管理\",\n                           url: \"/pagesMgt/PersonCardList\",\n                           user_name: \"\",\n                           view_count: 0\n                        },\n                        {\n                           account_key: \"9900\",\n                           api_map: {},\n                           h5_link: \"/pagesMgt/BizServiceList\",\n                           is_forbidden: true,\n                           is_show: true,\n                           name: \"global\",\n                           need_role: \"sysAdmin\",\n                           password: \"\",\n                           remark: \"\",\n                           support_h5: true,\n                           title: \"系统配置\",\n                           url: \"/pagesMgt/BizServiceList\",\n                           user_name: \"\",\n                           view_count: 0\n                        }\n\t\t\t\t\t];\n\n\t\t\t\t\tlet res = await wx.cloud.callFunction({\n\t\t\t\t\t   name:'sys',\n\t\t\t\t\t   data:{\n\t\t\t\t\t\t   $url:'addBizCard',\n\t\t\t\t\t\t   card:that.card,\n\t\t\t\t\t   }\n\t\t\t\t\t});\n                    that.card._id = res.result._id;\n\t\t\t\t\tconsole.log('新建企业名片 ID',res);\n\t\t\t\t\tawait wx.cloud.callFunction({\n\t\t\t\t\t\tname:'sys',\n\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t$url:'genBizCardQrcode',\n\t\t\t\t\t\t\tcardId:that.card._id,//新建企业名片\n\t\t\t\t\t\t\tpage:'/pagesSys/card/BizAboutExt?id='+that.card._id,\n\t\t\t\t\t\t\twidth:430,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n                }\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl: '/pagesSys/card/BizAboutExt?id='+that.card._id,\n\t\t\t\t})\n\t\t\t},\n\n\n\t\t\tchooseAddress(){\n\t\t\t\tlet that = this;\n\t\t\t\twx.getSetting({\n\t\t\t\t    success(res) {\n\t\t\t\t        console.log('get-setting', res.authSetting);\n\t\t\t\t        // 只返回用户请求过的授权\n\t\t\t\t        let auth = res.authSetting;\n\t\t\t\t        if (auth['scope.userLocation']) {\n\t\t\t\t            // 已授权，申请定位地址\n\t\t\t\t            that.getUserLocation();\n\t\t\t\t        } else if (auth['scope.userLocation'] === undefined) {\n\t\t\t\t            // 用户没有请求过的授权，不需要我们主动弹窗，微信会提供弹窗\n\t\t\t\t            that.getUserLocation();\n\t\t\t\t        } else if (!auth['scope.userLocation']) {\n\t\t\t\t            // 没有授权过，需要用户重新授权\n\t\t\t\t            // 这个弹窗是为了实现点击，不然openSetting会失败\n\t\t\t\t            wx.showModal({\n\t\t\t\t                title: '是否授权当前位置？',\n\t\t\t\t                content: '需要获取您的地理位置，请确认授权，否则定位功能将无法使用',\n\t\t\t\t                success: res => {\n\t\t\t\t                    if (res.confirm) {\n\t\t\t\t                        wx.openSetting({\n\t\t\t\t                            success(res) {\n\t\t\t\t                                console.log('open-setting-suc', res.authSetting);\n\t\t\t\t                                let setting = res.authSetting;\n\t\t\t\t                                if (!setting['scope.userLocation']) {\n\t\t\t\t                                    wx.showToast({\n\t\t\t\t                                        title: '地址授权失败，定位功能无法使用',\n\t\t\t\t                                        icon: 'none',\n\t\t\t\t                                    });\n\t\t\t\t                                } else {\n\t\t\t\t                                    // 地址授权成功，申请定位地址\n\t\t\t\t                                    that.getUserLocation();\n\t\t\t\t                                }\n\t\t\t\t                            },\n\t\t\t\t                            fail(err) {\n\t\t\t\t                                // 需要点击，有时候没有点击，是无法触发openSetting\n\t\t\t\t                                console.log('open-setting-fail',err);\n\t\t\t\t                            }\n\t\t\t\t                        });\n\t\t\t\t                    }\n\t\t\t\t                }\n\t\t\t\t            });\n\t\t\t\t        }\n\t\t\t\t    }\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\tgetUserLocation () {\n\t\t\t\tlet that = this;\n\t\t\t    wx.chooseLocation({\n\t\t\t\t\tsuccess(res){\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\tconsole.log(that.card);\n\t\t\t\t\t\tif(that.card.corp_address){\n\t\t\t\t\t\t\tthat.card.corp_address.address = res.address;\n\t\t\t\t\t\t\tthat.card.corp_address.latitude = res.latitude;\n\t\t\t\t\t\t\tthat.card.corp_address.longitude = res.longitude;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthat.card.corp_address = {address:'',latitude:0,longitude:0};\n\t\t\t\t\t\t\tthat.card.corp_address.address = res.address;\n\t\t\t\t\t\t\tthat.card.corp_address.latitude = res.latitude;\n\t\t\t\t\t\t\tthat.card.corp_address.longitude = res.longitude;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.hasAddress= true;\n\t\t\t\t\t\tthat.$forceUpdate();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.padding {\n\t\tpadding: 10rpx;\n\t}\n\n\t.text-box {\n\t\theight: 100rpx;\n\t\t/* background-color: #FFFFFF; */\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tfont-size: 24rpx;\n\t\tcolor: #353535;\n\t\tline-height: 1.8;\n\t}\n\tvideo {\n\t\twidth: 750rpx;\n\t}\n\timage {\n\t\twidth: 750rpx;\n\t}\n\n\t.card-radius {\n\t\tborder-radius: 10upx;\n\t}\n\n\t/* 遮罩样式 */\n\t.shade{\n\t\twidth:100%;\n\t\theight: 100%;\n\t\tposition: fixed;\n\t\ttop:0;\n\t\tleft:0;\n\t\tz-index: 90;\n\t}\n\n\t/* 底部分享 */\n\t.trend-popup {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 950rpx;\n\t\tpadding-bottom:62px;\n\t\tposition: fixed;\n\t\tleft:0;\n\t\tbottom: 0;\n\t\twidth:100%;\n\t\tz-index: 95;\n\t\tborder-top-left-radius: 3%;\n\t\tborder-top-right-radius: 3%;\n\t}\n\t.trend-remove-popup {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: center;\n\t\tpadding: 5px;\n\t\theight: 350rpx;\n\t}\n\t.trend-popup-close {\n\t\tposition:absolute;\n\t\ttop:30rpx;\n\t\tleft:30rpx;\n\t\tfont-size: 39rpx;\n\t\ttext-align: center;\n\t\tfont-weight: bold;\n\t\tz-index: 99;\n\t}\n\n\t.trend-popup-title {\n\t\tmargin-top:15rpx;\n\t\tline-height: 60rpx;\n\t\tfont-size: 28rpx;\n\t\tpadding: 5rpx 0;\n\t\ttext-align: center;\n\t\tfont-weight: bold;\n\t}\n\n\t.trend-popup-content {\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: center;\n\t\tpadding: 5px;\n\t\tmax-height: 850rpx;\n\t}\n\n</style>\n","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizAboutInput.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizAboutInput.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}