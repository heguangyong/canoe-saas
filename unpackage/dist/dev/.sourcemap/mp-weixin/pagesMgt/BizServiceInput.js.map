{"version":3,"sources":["uni-app:///main.js","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizServiceInput.vue?4d51","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizServiceInput.vue?4d04","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizServiceInput.vue?eec1","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizServiceInput.vue?ef86","uni-app:///pagesMgt/BizServiceInput.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","name","data","that","bizCard","accounts","push","account"],"mappings":"sIAAA,KACA,YACA,Y,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,gECHX,kHACIC,EADJ,QAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,+BACZ,aAAAF,E,0CCtBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,8GAA+zB,eAAG,G,8HCkFl0B,Q,4iCAEA,CAEA,KAFA,WAGA,OACM,QAAN,GACM,QAAN,CACQ,YAAR,GACQ,MAAR,GACQ,KAAR,GACQ,IAAR,GACQ,SAAR,EACQ,cAAR,EACQ,UAAR,GACQ,UAAR,GACQ,SAAR,GACQ,YAAR,EACA,WACQ,OAAR,MAKA,OAtBA,WAuBA,yBAEA,eACA,yBAEA,SACI,iBADJ,WACA,wIACgB,EAAhB,EADA,SAEA,uBACA,WACA,MACA,yBACA,gCANA,OAEA,EAFA,OASA,eACA,wBAVA,8CAaI,aAdJ,WAeM,EAAN,gBAGA,OAlBA,WAkBA,sIACA,IACA,GAAgB,EAAhB,kCAFA,uBAGgB,EAAhB,WACkB,KAAlB,OACkB,MAAlB,YALA,6BASA,GAAgB,EAAhB,4BATA,uBAUgB,EAAhB,WACkB,KAAlB,OACkB,MAAlB,YAZA,iCAgBgB,EAAhB,+HAhBA,UAiBA,uBACoBC,KAApB,MACoBC,KAApB,CACsB,KAAtB,cACsB,MAAtB,KArBA,WAiBA,EAjBA,OA0BA,GAAgB,EAAhB,YA1BA,wBA2BgB,EAAhB,WACkB,KAAlB,OACkB,MAAlB,oBA7BA,8BAkCA,qBACkB,EAAlB,qBAEgBC,EAAKC,QAAQC,SAASC,KAAKH,EAAKI,UAEhD,cAvCA,kCAwCkB,GAAlB,oBACoB,KAApB,MACoB,KAApB,CACsB,KAAtB,aACsB,KAAtB,aA5CA,QAgDA,cACA,iCAjDA,iD","file":"pagesMgt/BizServiceInput.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesMgt/BizServiceInput.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./BizServiceInput.vue?vue&type=template&id=fe89af46&\"\nvar renderjs\nimport script from \"./BizServiceInput.vue?vue&type=script&lang=js&\"\nexport * from \"./BizServiceInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesMgt/BizServiceInput.vue\"\nexport default component.exports","export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizServiceInput.vue?vue&type=template&id=fe89af46&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizServiceInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizServiceInput.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n        <cu-custom    :isBack=\"true\">\n\t\t\t<block slot=\"backText\">返回</block>\n            <block slot=\"content\">系统配置</block>\n        </cu-custom>\n\t\t<scroll-view> \n\t\t\t<form>\n\t\t\t\t<view class=\"padding\">\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">服务编号<text class='cuIcon-titles text-xs text-orange'></text></view>\n\n\t\t\t\t\t\t<input placeholder=\"请输入服务编号\" v-model=\"account.account_key\"></input>\n\t\t\t\t\t</view>\t\t\t\t\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">服务名称<text class='cuIcon-titles text-xs text-orange'></text></view>\n\n\t\t\t\t\t\t<input placeholder=\"请输入服务名称\" v-model=\"account.title\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">服务图标<text class='cuIcon-titles text-xs text-orange'></text></view>\n\t\t\t\t\t\t<input placeholder=\"请输入服务图标\" v-model=\"account.name\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">服务链接</view>\n\t\t\t\t\t\t<input placeholder=\"请输入服务链接\" v-model=\"account.url\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">是否可见</view>\n\t\t\t\t\t\t<input placeholder=\"请输入是否可见\" v-model=\"account.is_show\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">是否禁用</view>\n\t\t\t\t\t\t<input placeholder=\"请输入是否禁用\" v-model=\"account.is_forbidden\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">访问角色</view>\n\t\t\t\t\t\t<input placeholder=\"请输入访问角色\" v-model=\"account.need_role\"></input>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">帐户名称</view>\n\t\t\t\t\t\t<input placeholder=\"请输入帐户名称\" v-model=\"account.user_name\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">帐户密码</view>\n\t\t\t\t\t\t<input  placeholder=\"请输入帐户密码\" v-model=\"account.password\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">是否支持H5</view>\n\t\t\t\t\t\t<input placeholder=\"请输入是否支持H5\" v-model=\"account.support_h5\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">H5服务链接</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<textarea class=\"text-box font40 bg-white width100 padding-sm solid\" style=\"height: 100rpx;\" scroll-y=\"true\" maxlength=\"1200\" placeholder=\"请输入H5链接\" v-model=\"account.h5_link\" >\n\t\t\t\t\t</textarea>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">接口列表</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<textarea class=\"text-box font40 bg-white text-grey width100 padding-sm solid\" style=\"height: 500rpx;\" scroll-y=\"true\" maxlength=\"1200\" placeholder=\"备注对应接口列表中的参数信息，内容由技术人员后台维护，此处显示作为参考\">\n\t\t\t\t\t</textarea>\n\t\t\t\t\t<view class=\"cu-tabbar-height bg-white\"></view>\n\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t<view class=\"title\">备注</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<textarea class=\"text-box font40 bg-white text-grey width100 padding-sm solid\" style=\"height: 500rpx;\" scroll-y=\"true\" maxlength=\"1200\" placeholder=\"请输入备注\" v-model=\"account.remark\" >\n\t\t\t\t\t</textarea>\n\t\t\t\t\t<view class=\"cu-tabbar-height bg-white\"></view>\n\t\t\t\t</view>\n\t\t\t</form>\n\t\t\t<view class=\"cu-tabbar-height\"></view>\n\t\t</scroll-view>\n\t\t<!-- 底部操作菜单 -->\n\t\t<view class=\"cu-bar btn-group foot bg-white\" style=\"z-index: 99;\">\n\t\t\t<button class=\"cu-btn  round line-grey\"    @click=\"cancelSubmit\">取消</button>\n\t\t\t<button class=\"cu-btn  round line-grey\"   @click=\"submit\">提交</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { mapState ,mapMutations} from 'vuex'\n\n\texport default {\n\n\t\tdata() {\n\t\t\treturn {\n                bizCard:{},\n                account:{\n                    account_key:'',\n                    title:'',\n                    name:'',\n                    url:'',\n                    is_show:true,\n                    is_forbidden:true,\n                    need_role:'',\n                    user_name:'',\n                    password:'',\n                    support_h5:false,\n\t\t\t\t\th5_link:'',\n                    remark:''\n                }\n\t\t\t}\n\t\t},\n\n\t\tonShow(){\n\t\t\tthis.getBizCardDetail();\n\t\t},\n\t\tcomputed:{\n\t\t\t...mapState(['user']),\n\t\t},\n\t\tmethods: {\n            async getBizCardDetail(){\n                let that = this;\n\t\t\t\tlet res = await wx.cloud.callFunction({\n\t\t\t\t\tname:'sys',\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t$url:'getCardDetailById',\n\t\t\t\t\t\tid:that.user.userInfo.bizCardId,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tconsole.log(res);\n\t\t\t\tthat.bizCard = res.result.data;\n            },\n\n            cancelSubmit(){\n                uni.navigateBack();\n\t\t\t},\n\n\t\t\tasync submit(){\n\t\t\t    let that = this;\n                if(that.account.account_key.trim().length==0){\n                    uni.showToast({\n                        icon:'none',\n                        title:'请填写服务编号'\n                    });\n                    return;\n                }\n                if(that.account.title.trim().length==0){\n                    uni.showToast({\n                        icon:'none',\n                        title:'请填写服务名称'\n                    });\n                    return;\n                }\n                let checkValue = that.account.account_key+that.account.title+that.account.name+that.account.user_name+that.account.password+ that.account.h5_link+that.account.remark;\n                let secRes = await wx.cloud.callFunction({\n                    name:'sys',\n                    data:{\n                        $url:'msgSecCheck',\n                        value:checkValue\n                    }\n                });\n\n                // console.log(secRes)\n                if(secRes.result.code!=0){\n                    uni.showToast({\n                        icon:'none',\n                        title:'内容含有违规内容，请修改后提交'\n                    });\n                    return;\n                }\n\n                if(!that.bizCard.accounts){\n                    that.bizCard.accounts=[];\n\t\t\t\t}\n                that.bizCard.accounts.push(that.account);\n\t\t\t\t//编辑提交\n\t\t\t\tif(that.bizCard._id){\n                    await wx.cloud.callFunction({\n                       name:'sys',\n                       data:{\n                           $url:'updateCard',\n                           card:that.bizCard,\n                       }\n                    });\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pagesMgt/BizServiceList',\n\t\t\t\t})\n\t\t\t},\n\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}