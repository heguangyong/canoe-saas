{"version":3,"sources":["uni-app:///main.js","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizActivityInput.vue?264a","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizActivityInput.vue?a37d","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizActivityInput.vue?f77b","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizActivityInput.vue?23cc","uni-app:///pagesMgt/BizActivityInput.vue","webpack:////Users/fustic/Workspace/canoe-saas/pagesMgt/BizActivityInput.vue?c715"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","name","data","that","activity","card","avatar","uni","showToast","setTimeout"],"mappings":"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","file":"pagesMgt/BizActivityInput.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesMgt/BizActivityInput.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./BizActivityInput.vue?vue&type=template&id=1763ea3a&\"\nvar renderjs\nimport script from \"./BizActivityInput.vue?vue&type=script&lang=js&\"\nexport * from \"./BizActivityInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BizActivityInput.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesMgt/BizActivityInput.vue\"\nexport default component.exports","export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizActivityInput.vue?vue&type=template&id=1763ea3a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizActivityInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizActivityInput.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<cu-custom    :isBack=\"true\">\n\t\t\t<block slot=\"backText\">返回</block>\n\t\t\t<block slot=\"content\">创建活动</block>\n\t\t</cu-custom>\n\t\t<view class=\"page bg-white\">\n\t\t\t<form>\n\t\t\t\t<view class=\"cu-list grid col-5\">\n\t\t\t\t\t<view class=\"cu-item\" :class=\"field.isShow?'solid':'bg-gray'\" v-for=\"(field,index) in fields\" :key=\"index\"  @tap=\"switchShow(field,index)\">\n\t\t\t\t\t\t<text class=\"text-gray \" :class=\"' cuIcon-' + field.name\"></text>\n\t\t\t\t\t\t<text >{{field.title}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"bg-white radius\">\n\t\t\t\t<view class=\"cu-form-group margin-top-xxs  radius\">\n\t\t\t\t\t<view class=\"title radius\">主题<text class=\"cuIcon-titles text-xs text-orange\"></text></view>\n\t\t\t\t\t<input class=\"line-grey radius\" v-model=\"activity.title\" placeholder=\"请输入主题\"></input>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<slot v-if=\"fields[0].isShow\">\n\t\t\t\t\t<view class=\"flex  padding justify-start  align-center  radius \">\n\t\t\t\t\t\t<view class=\"title margin-right-xs\">报名截止<text class=\"cuIcon-titles text-xs text-orange\"></text></view>\n\t\t\t\t\t\t<view class=\"margin-right-xs\">\n\t\t\t\t\t\t\t<picker mode=\"date\" v-model=\"activity.sign_up.date\" start=\"2020-01-01\" end=\"2030-01-01\" @change=\"signUpDateChange\">\n\t\t\t\t\t\t\t\t<view class=\"picker line-grey\">\n\t\t\t\t\t\t\t\t\t{{activity.sign_up.date||''}}\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</picker>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"margin-right\">\n\t\t\t\t\t\t\t<picker mode=\"time\" v-model=\"activity.sign_up.time\" start=\"08:00\" end=\"22:00\" @change=\"signUpTimeChange\">\n\t\t\t\t\t\t\t\t<view class=\"picker line-grey\">\n\t\t\t\t\t\t\t\t\t{{activity.sign_up.time||''}}\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</picker>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</slot>\n\t\t\t\t <slot v-if=\"fields[1].isShow\">\n\t\t\t\t\t<view class=\"flex  padding justify-start  align-center  radius \">\n\t\t\t\t\t\t<view class=\"title margin-right-xs\">开始时间<text class=\"cuIcon-titles text-xs text-orange\"></text></view>\n\t\t\t\t\t\t<view class=\"margin-right-xs\">\n\t\t\t\t\t\t\t<picker mode=\"date\" v-model=\"activity.sign_in.date\" start=\"2020-01-01\" end=\"2030-01-01\" @change=\"signInDateChange\">\n\t\t\t\t\t\t\t\t<view class=\"picker line-grey\">\n\t\t\t\t\t\t\t\t\t{{activity.sign_in.date||''}}\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</picker>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t<picker mode=\"time\" v-model=\"activity.sign_in.time\" start=\"08:00\" end=\"22:00\" @change=\"signInTimeChange\">\n\t\t\t\t\t\t\t\t<view class=\"picker line-grey\">\n\t\t\t\t\t\t\t\t\t{{activity.sign_in.time||''}}\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</picker>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</slot>\n\t\t\t\t<slot v-if=\"fields[2].isShow\" >\n\t\t\t\t\t<view class=\"flex  padding justify-start  align-center  radius\">\n\t\t\t\t\t\t<view class=\"title margin-right-xs\">联系人<text class=\"cuIcon-titles text-xs text-orange\"></text></view>\n\t\t\t\t\t\t<input placeholder=\"请输入联系人\" class=\"line-grey\" v-model=\"activity.sponsor.contactor\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"flex  padding justify-start  align-center  radius\">\n\t\t\t\t\t\t<view class=\"title margin-right-xs\">联系电话<text class=\"cuIcon-titles text-xs text-orange\"></text></view>\n\t\t\t\t\t\t<input placeholder=\"请输入联系方式\"  class=\"line-grey\" v-model=\"activity.sponsor.phone\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t</slot>\n\t\t\t\t<slot v-if=\"fields[3].isShow\">\n\t\t\t\t\t<view class=\"flex padding justify-start  align-center  radius\">\n\t\t\t\t\t\t<view class=\"title margin-right-xs\">地址<text class=\"cuIcon-titles text-xs text-orange\"></text></view>\n\t\t\t\t\t\t<input placeholder=\"请输入地址\" class=\"line-grey width80\" v-model=\"activity.address.street\"></input>\n\t\t\t\t\t\t<text class='cuIcon-locationfill text-orange align-end'></text>\n\t\t\t\t\t</view>\n\t\t\t\t</slot>\n\t\t\t\t\t<view class=\"flex padding align-start radius\">\n\t\t\t\t\t\t<view class=\"title margin-right-xs\">详情<text class=\"cuIcon-titles text-xs text-orange\"></text></view>\n\t\t\t\t\t\t<textarea maxlength=\"1000\" class=\"width88 line-grey\" style=\"height: 300rpx;\" v-model=\"activity.content\" placeholder=\"请输入详情\"></textarea>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"flex  padding justify-start  align-center  radius \">\n\t\t\t\t\t\t<slot v-if=\"fields[4].isShow\">\n\t\t\t\t\t\t\t\t<view class=\" margin-right-xs\">人数限制</view>\n\t\t\t\t\t\t\t\t<input placeholder=\"请输入\" type=\"number\" class=\"line-grey width10 margin-right-xl text-center\" v-model=\"activity.people_num\"></input>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot v-if=\"fields[5].isShow\">\n\t\t\t\t\t\t\t<view class=\"margin-right-xs\">报名者是否需要填写手机号？</view>\n\t\t\t\t\t\t\t\t<switch @change=\"onPhoneRequireChange(activity)\" v-model=\"activity.phone_require\"  :checked=\"activity.phone_require\"></switch>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</view>\n\t\t\t\t\t<slot v-if=\"fields[6].isShow\">\n\t\t\t\t\t\t<view class=\"flex padding align-start solid-top radius\">\n\t\t\t\t\t\t\t<view class=\"title width80\">活动封面<text class=\"cuIcon-titles text-xs text-orange\"></text></view>\n\t\t\t\t\t\t\t<view class=\"align-end\">\n\t\t\t\t\t\t\t\t<ups-upload fileType=\"image\" :uploadFile = \"activity.cover\" @upload = \"uploadCover\" @remove = \"removeCover\"></ups-upload>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</slot>\n\t\t\t\t\t<slot v-if=\"fields[7].isShow\">\n\t\t\t\t\t\t<view class=\"flex padding align-start solid-top radius\">\n\t\t\t\t\t\t\t<view class=\"title width88\">\n\t\t\t\t\t\t\t\t活动图片\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"align-start padding\">\n\t\t\t\t\t\t\t<ups-uploads\n\t\t\t\t\t\t\t\tfileType=\"image\"\n\t\t\t\t\t\t\t\t:fileList = \"activity.carousels\"\n\t\t\t\t\t\t\t\tmaxNum = 9\n\t\t\t\t\t\t\t\t@upload = \"uploadCarousels\"\n\t\t\t\t\t\t\t\t@remove = \"removeCarousels\"\n\t\t\t\t\t\t\t\t >\n\t\t\t\t\t\t\t</ups-uploads>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</slot>\n\t\t\t\t\t<slot v-if=\"fields[8].isShow\">\n\t\t\t\t\t\t<view class=\"flex padding align-start solid-top radius \">\n\t\t\t\t\t\t\t<view class=\"title \">\n\t\t\t\t\t\t\t\t活动视频\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"padding\">\n\t\t\t\t\t\t\t<ups-uploads\n\t\t\t\t\t\t\t\tfileType=\"video\"\n\t\t\t\t\t\t\t\t:fileList = \"activity.video\"\n\t\t\t\t\t\t\t\tmaxNum = 1\n\t\t\t\t\t\t\t\t@upload = \"uploadVideo\"\n\t\t\t\t\t\t\t\t@remove = \"removeVideo\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</ups-uploads>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</slot>\n\t\t\t\t</view>\n\t\t\t</form>\n\t\t\t<!--页面底部抬升-->\n\t\t\t<view class=\"cu-tabbar-height\"></view>\n\t\t</view>\n\t\t<!-- 底部操作菜单 -->\n\t\t<view class=\"cu-bar btn-group   foot bg-white\">\n\t\t\t<button class=\"cu-btn   line-grey round\"    @click=\"navback\">取消</button>\n\t\t\t<button class=\"cu-btn   line-grey round\"   @click=\"submit\">保存</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n \timport upsUploads from '@/components/ups-uploads/index.vue'\n \timport upsUpload from '@/components/ups-upload/index.vue'\n\timport { mapState, mapMutations } from 'vuex'\n\timport cmnUtils from '@/utils/cmnUtils.js'\n\t\t\n\texport default {\n\t\tcomponents:{\n\t\t\t\"ups-uploads\":upsUploads,\n\t\t\t\"ups-upload\":upsUpload,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n                activityId:'',\n\t\t\t\tactivity:{\n\t\t\t\t\taddress:{},\n\t\t\t\t\tcarousels:[],\n\t\t\t\t\tvideo:[],\n\t\t\t\t\tphone_require:false,\n\t\t\t\t\tpeople_num:0,\n\t\t\t\t\tcover:'',\n\t\t\t\t\tsponsor:{},\n                    sign_up:{date:'',time:''},\n                    sign_in:{date:'',time:''},\n\t\t\t\t},\n                fields: [{\n                    id:0,\n                    title: '开始时间',\n                    name: 'time',\n                    isShow: true\n                },{\n                    id:1,\n                    title: '截止时间',\n                    name: 'countdown',\n                    isShow: true\n                }, {\n                    id:2,\n                    title: '联系人',\n                    name: 'service',\n                    isShow: true\n                }, {\n                    id:3,\n                    title: '地址',\n                    name: 'location',\n                    isShow: true\n                }, {\n                    id:4,\n                    title: '人数限制',\n                    name: 'group',\n                    isShow: false\n                },{\n                    id:5,\n                    title: '填写手机',\n                    name: 'mobile',\n                    isShow: false\n                },{\n                    id:6,\n                    title: '活动封面',\n                    name: 'pic',\n                    isShow: true\n                },{\n                    id:7,\n                    title: '活动图片',\n                    name: 'album',\n                    isShow: false\n                },{\n                    id:8,\n                    title: '活动视频',\n                    name: 'record',\n                    isShow: false\n                }],\n\t\t\t}\n\t\t},\n\t\tonLoad(option) {\n\t\t\tlet that = this;\n            if(option.id){\n                that.activityId = option.id;\n            }\n\n\t\t\tthat.activity.sign_up.date = cmnUtils.dateFormat(new Date(),'yyyy-MM-dd');\n\t\t\tthat.activity.sign_up.time = cmnUtils.dateFormat(new Date(),'HH:mm');\n            that.activity.sign_in.date = cmnUtils.dateFormat(new Date(),'yyyy-MM-dd');\n            that.activity.sign_in.time = cmnUtils.dateFormat(new Date(),'HH:mm');\n\t\t\tif(option.id){\n                wx.cloud.callFunction({\n                    name:'cmn',\n                    data:{\n                        $url:'getActivityDetail',\n                        id:that.activityId,\n                    }\n                }).then((res)=>{\n                that.activity = res.result.data;\n\t\t\t\tif(that.activity.sign_up){\n\t\t\t\t\tthat.fields[0].isShow = true;\n\t\t\t\t}\n\t\t\t\tif(that.activity.sign_in){\n\t\t\t\t\tthat.fields[1].isShow = true;\n\t\t\t\t}\n\t\t\t\tif(that.activity.sponsor){\n\t\t\t\t\tthat.fields[2].isShow = true;\n\t\t\t\t}\n\t\t\t\tif(that.activity.address){\n\t\t\t\t\tthat.fields[3].isShow = true;\n\t\t\t\t}\n                if(that.activity.people_num){\n\t\t\t\t\tthat.fields[4].isShow = true;\n                }\n                if(that.activity.phone_require){\n                    that.fields[5].isShow = true;\n                }\n                if(that.activity.cover){\n                    that.fields[6].isShow = true;\n                }\n                if(that.activity.carousels.length>0){\n\t\t\t\t\tthat.fields[7].isShow = true;\n                }\n                if(that.activity.video){\n\t\t\t\t\tthat.fields[8].isShow = true;\n                }\n                that.activity.hasEnroll = false;\n                if (that.activity.enroll_ids && that.user._id){\n                    if (that.activity.enroll_ids.indexOf(that.user._id)>-1){\n                        that.activity.hasEnroll = true;\n                    }\n                }\n                that.activity.hasSignIn = false;\n                if (that.activity.sign_in_ids && that.user._id) {\n                    if (that.activity.sign_in_ids.indexOf(that.user._id)>-1) {\n                        that.activity.hasSignIn = true;\n                    }\n                }\n                });\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\t...mapState(['user']),\n\t\t},\n\t\tmethods: {\n            async submit(){\n\t\t\t\tlet that = this;\n                let checkInputInfo ='';\n\t\t\t\tif(!that.activity.title){\n                    checkInputInfo +=' 主题';\n\t\t\t\t}\n\t\t\t\tif(!that.activity.sponsor.contactor || !that.activity.sponsor.phone){\n                    checkInputInfo +=' 联系人';\n\t\t\t\t}\n\t\t\t\tif(!that.activity.address.street){\n                    checkInputInfo +=' 地址';\n\t\t\t\t}\n                if(!that.activity.content){\n                    checkInputInfo +=' 详情';\n                }\n\t\t\t\tif(!that.activity.cover){\n                    checkInputInfo +=' 活动封面';\n\t\t\t\t}\n\t\t\t\tif(checkInputInfo.length>0){\n                    uni.showToast({\n                        icon:'none',\n                        title:'请输入必填信息：'+checkInputInfo,\n                    });\n                    that.isLoad = false;\n                    return;\n\t\t\t\t}\n                let res = await wx.cloud.callFunction({\n                    name:'sys',\n                    data:{\n                        $url:'getCardDetailById',\n                        id:that.user.userInfo.bizCardId,\n                    }\n                });\n                let card = res.result.data;\n                that.activity.name = card.name;\n                that.activity.avatar = card.avatar;\n\t\t\t\t//编辑\n\t\t\t\tif(that.activityId.length>0){\n                    await wx.cloud.callFunction({\n                        name:'cmn',\n                        data:{\n                            $url:'updateActivity',\n                            activity:that.activity,\n                        }\n                    });\n\t\t\t\t}\n\t\t\t\t//新增\n\t\t\t\telse{\n                    that.activity.card_id = that.user.userInfo.bizCardId;\n                    res = await wx.cloud.callFunction({\n                        name:'cmn',\n                        data:{\n                            $url:'addActivity',\n                            activity:that.activity,\n                        }\n                    });\n\t\t\t\t\t//补充_id\n                    that.activity._id=res.result._id;\n                    // 注意二维码需要发布上线后才能调用生成\n                    await wx.cloud.callFunction({\n                        name:'cmn',\n                        data:{\n                            $url:'genActivityQrcode',\n                            id:that.activity._id,\n                            page:'pagesCmn/activity/ShareActivityDetail',\n                            width:430,\n                        }\n                    });\n\t\t\t\t}\n                uni.showToast({\n                    icon:'success',\n                    title:'提交成功'\n                });\n                setTimeout (() => {\n                    uni.navigateTo({\n                        url:'/pagesMgt/BizActivityList'\n                    });\n                } , 500 );\n\t\t\t},\n\t\t\tnavback(e){\n\t\t\t\tuni.navigateBack();\n\t\t\t},\n            switchShow(field,index){\n\t\t\t    let that = this;\n\t\t\t\tthat.fields[index].isShow = !field.isShow;\n\t\t\t},\n\t\t\tuploadCover(cover){\n\t\t\t\tthis.activity.cover = cover\n\t\t\t},\n\t\t\tremoveCover(){\n\t\t\t\tthis.activity.cover = \"\";\n\t\t\t},\n\t\t\tuploadCarousels(fileId){\n\t\t\t\tthis.activity.carousels.push(fileId)\n\t\t\t},\n\t\t\tremoveCarousels(idx){\n\t\t\t\tthis.activity.carousels.splice(idx, 1)\n\t\t\t},\n\t\t\tuploadVideo(fileId){\n\t\t\t\tthis.activity.video.push(fileId)\n\t\t\t},\n\t\t\tremoveVideo(idx){\n\t\t\t\tthis.activity.video.splice(idx, 1)\n\t\t\t},\n\t\t\tsignUpDateChange(e){\n\t\t\t\tthis.activity.sign_up.date = e.detail.value\n\t\t\t},\n\t\t\tsignUpTimeChange(e){\n                this.activity.sign_up.time = e.detail.value;\n\t\t\t},\n\t\t\tsignInDateChange(e){\n                this.activity.sign_in.date = e.detail.value\n\t\t\t},\n\t\t\tsignInTimeChange(e){\n                this.activity.sign_in.time = e.detail.value;\n\t\t\t},\n            onPhoneRequireChange(item){\n                item.phone_require = !item.phone_require;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n</script>\n\n<style>\n\t.page{\n\t\tz-index: 0;\n\t\theight: 100vh;\n\t}\n</style>\n","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizActivityInput.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./BizActivityInput.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}