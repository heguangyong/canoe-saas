{"version":3,"sources":["uni-app:///main.js","webpack:////Users/fustic/Workspace/canoe-saas/pagesCmn/activity/ShareActivityDetail.vue?bebc","webpack:////Users/fustic/Workspace/canoe-saas/pagesCmn/activity/ShareActivityDetail.vue?3d48","webpack:////Users/fustic/Workspace/canoe-saas/pagesCmn/activity/ShareActivityDetail.vue?9d70","webpack:////Users/fustic/Workspace/canoe-saas/pagesCmn/activity/ShareActivityDetail.vue?1213","uni-app:///pagesCmn/activity/ShareActivityDetail.vue","webpack:////Users/fustic/Workspace/canoe-saas/pagesCmn/activity/ShareActivityDetail.vue?565c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uniPopup","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","that","activity","res","result","data","authBizInfo","needWxAuth","name","sign_up","parseSignUp","sign_in","parseSignIn","updateUserAuth","setTimeout","uni","showToast","$refs","close"],"mappings":"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","file":"pagesCmn/activity/ShareActivityDetail.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesCmn/activity/ShareActivityDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./ShareActivityDetail.vue?vue&type=template&id=5b9b2c10&\"\nvar renderjs\nimport script from \"./ShareActivityDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareActivityDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShareActivityDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesCmn/activity/ShareActivityDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareActivityDetail.vue?vue&type=template&id=5b9b2c10&\"","var components\ntry {\n  components = {\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareActivityDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareActivityDetail.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"\" :class=\"isUps == true ? 'prevent' : ''\">\n\t\t<cu-custom  >\n\t\t\t<block slot=\"content\">活动详情</block>\n\t\t</cu-custom>\n\t\t<view class=\"page bg-white\">\n\t\t\t<view class=\"cu-card case\">\n\t\t\t    <view class=\"cu-item shadow solid-bottom\">\n\t\t\t        <view class=\"image\">\n\t\t\t            <image :src=\"activity.cover\"  mode=\"aspectFill\"></image>\n\t\t\t            <view class=\"cu-bar bg-shadeBottom\"> <text class=\"text-cut\">{{activity.content}}</text></view>\n\t\t\t        </view>\n\t\t\t        <view class=\"cu-list menu-avatar\">\n\t\t\t            <view class=\"cu-item\" @tap=\"goQrcode(activity._id)\">\n\t\t\t                <view class=\"cu-avatar round lg\">\n\t\t\t                    <image :src=\"activity.avatar\" mode=\"aspectFill\" class=\"cu-avatar round lg\"></image>\n\t\t\t                </view>\n\t\t\t                <view class=\"content flex-sub\">\n\t\t\t                    <view class=\"text-grey\">{{activity.title}}</view>\n\t\t\t                    <view class=\"text-gray text-sm flex justify-between\">\n\t\t\t                        报名截止日期：{{activity.sign_up}}\n\t\t\t                    </view>\n\t\t\t                </view>\n\t\t\t\t\t\t\t<view class=\"action\" >\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-qr_code\" style=\"font-size: 36px;\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t            </view>\n\t\t\t        </view>\n\t\t\t    </view>\n\t\t\t</view>\n\t\t\t<view v-if=\"activity.video.length>0\">\n\t\t\t\t<video  :src=\"activity.video\" autoplay loop muted :show-play-btn=\"false\" :controls=\"false\" objectFit=\"cover\"></video>\n\t\t\t</view>\n\t\t\t<view v-for=\"(item,index) in activity.carousels\" :key=\"index\">\n\t\t\t\t<image :src=\"item\" mode=\"aspectFill\"></image>\n\t\t\t</view>\n\t\t\t<view class=\"cu-tabbar-height\"></view>\n\t\t\t<view class=\"cu-tabbar-height\"></view>\n\t\t</view>\n\t\t<view v-if=\"!isUps\" class=\"cu-bar bg-white tabbar border shop foot\">\n\t\t\t<button class=\"action\" @tap=\"goHome\">\n\t\t\t\t<view class=\"cuIcon-home\">\n\t\t\t\t</view>\n\t\t\t\t首页\n\t\t\t</button>\n\t\t\t<!-- #ifdef MP-WEIXIN -->\n\t\t\t<button class=\"action\" open-type=\"share\" :data-activity=\"activity\" >\n\t\t\t\t<view class=\"cuIcon-share\"></view> 分享\n\t\t\t</button>\n\t\t\t<!-- #endif -->\n\t\t\t<view class=\"action\" @tap=\"startTalk\">\n\t\t\t\t<view class=\"cuIcon-message\">\n\t\t\t\t</view>\n\t\t\t\t咨询\n\t\t\t</view>\n\t\t\t<view v-if=\"activity.is_open\" class=\"bg-green submit text-lg\"   @tap=\"tapJoin\">立即报名</view>\n\t\t\t<view v-else class=\"bg-gray submit text-lg\">报名已终止</view>\n\t\t</view>\n\t\t<!-- 遮罩 -->\n\t\t<view class=\"shade\" v-if=\"isUps\"></view>\n\t\t<!-- 底部展现弹窗 -->\n\t\t<uni-popup ref=\"showPopup\" type=\"bottom\" @change=\"change\">\n\t\t\t<!-- 底部活动预定弹窗 -->\n\t\t\t<view class=\"popup bg-white\">\n\t\t\t\t<text class=\"cuIcon-close popup-close\" @click=\"cancel('Popup')\"></text>\n\t\t\t\t<text class=\"popup-title\" >报名</text>\n\t\t\t\t<view class=\"popup-content\">\n\t\t\t\t\t<scroll-view class=\"ups-height\" scroll-y=\"true\">\n\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t\t<view class=\"title\">姓名</view>\n\t\t\t\t\t\t\t\t<input class=\"text-left\" placeholder=\"报名人姓名\" @input=\"inputName\" :value=\"user.userInfo.recipient.name\"></input>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t\t<view class=\"title\">电话</view>\n\t\t\t\t\t\t\t\t<input class=\"text-left\" placeholder=\"联系电话\" type=\"tel\" @input=\"inputPhone\" :value=\"user.userInfo.recipient.phone\"></input>\n\t\t\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\n\t\t\t\t\t\t\t\t<button open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\" class=\"cu-btn round  line-grey\"> 授权手机号 </button>\n\t\t\t\t\t\t\t\t<!-- #endif -->\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t\t<view class=\"title\">备注</view>\n\t\t\t\t\t\t\t\t<input class=\"text-left\" placeholder=\"有啥想说的\" @input=\"inputRemark\" :value=\"user.userInfo.recipient.remark\"></input>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"cu-bar solid-bottom margin-top-xxs radius\"></view>\n\t\t\t\t\t\t\t<view class=\"cu-bar btn-group  foot bg-white\">\n\t\t\t\t\t\t\t\t<button class=\"cu-btn   round line-grey\"   @click=\"submitOrder\"> 确认报名 </button>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</scroll-view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</uni-popup>\n\t</view>\n</template>\n\n<script>\n    import { mapState,mapMutations } from 'vuex'\n    import uniPopup from '@/components/uni-popup/uni-popup.vue';\n    // #ifdef H5\n    import cloudbase from '@cloudbase/js-sdk';\n    // #endif\n\n    export default {\n        components:{\n            \"uni-popup\":uniPopup,\n        },\n        data() {\n            return {\n                isUps:false,\n                activity:{\n                    _id:'',\n\t\t\t\t\tqrcode:'',\n                    content:''\n                },\n                recipient:{}\n            }\n        },\n        onLoad(options) {\n            let that = this;\n            if(options.id) {\n                that.activity._id = options.id;\n                that.getDetail();\n            }\n\t\t\t//扫码加好友\n            else if (options.scene) {\n                that.paramsStr +='scene='+options.scene;\n                let res = {};\n                let params = decodeURIComponent(options.scene).split(\"&\");\n                params.forEach(item => {\n                    let paramMap = item.split(\"=\");\n                    res[paramMap[0]] = paramMap[1];\n                    if(paramMap[0]=='qrcode'){\n                        that.activity.qrcode=paramMap[1];\n                    }\n                });\n                that.getDetailByQrcode();\n            }\n        },\n\n        onShareAppMessage(res){\n            if(res.from=== 'button'){\n                let  activity = res.target.dataset.activity;\n                return{\n                    title:activity.title,\n                    imageUrl:activity.cover||'',\n                    path:\"/pagesCmn/activity/ShareActivityDetail?id=\"+activity._id,\n                    success:function(r){\n                        uni.showToast({\n                            'icon':'success',\n                            'title':'分享成功'\n                        });\n                    }\n                }\n            }\n        },\n        computed:{\n            ...mapState(['needAuthFlag','user','cardAccount']),\n        },\n        methods: {\n            ...mapMutations(['needWxAuth','wxAuth','updateUser','updateUserAuth']),\n\n\t\t\tShareActivityDetail(){\n\t\t\t    uni.showShareMenu({\n\t\t\t        withShareTicket:true,\n\t\t\t    })\n\t\t\t},\n\t\t\t\n\t\t\tasync getDetail(){\n\t\t\t    let that = this;\n                let res = null;\n                // #ifdef MP-WEIXIN\n                res = await wx.cloud.callFunction({\n\t\t\t        name:'cmn',\n\t\t\t        data:{\n\t\t\t            $url:'getActivityDetail',\n\t\t\t            id:that.activity._id\n\t\t\t        }\n\t\t\t    });\n                that.activity = res.result.data;\n                // #endif\n                // #ifdef H5\n                res = await cloudbase.callFunction({\n                    name:'web',\n                    data:{\n                        $url:'getActivityDetail',\n                        id:that.activity._id\n                    }\n                });\n                that.activity = JSON.parse(res.result.data);\n                // #endif\n\n\t\t\t\tlet parseSignUp = that.activity.sign_up.date+' '+that.activity.sign_up.time;\n\t\t\t\tlet parseSignIn = that.activity.sign_in.date+' '+that.activity.sign_in.time;\n\t\t\t\tthat.activity.sign_up = parseSignUp;\n\t\t\t\tthat.activity.sign_in = parseSignIn;\n                that.authBizInfo = {_id:that.activity.card_id,name:that.activity.name,avatar:that.activity.avatar};\n                that.needWxAuth(that.authBizInfo);\n\t\t\t},\n\n            async getDetailByQrcode(){\n                let that = this;\n                let res = {};\n                // #ifdef MP-WEIXIN\n                res =await wx.cloud.callFunction({\n                    name: 'cmn',\n                    data: {\n                        $url: 'getActivityDetailByQrcode',\n                        qrcode: that.activity.qrcode,\n                    }\n                });\n                that.activity = res.result.data;\n                // #endif\n                // #ifdef H5\n                res =await cloudbase.callFunction({\n                    name: 'web',\n                    data: {\n                        $url: 'getActivityDetailByQrcode',\n                        qrcode: that.activity.qrcode,\n                    }\n                });\n                that.activity = JSON.parse(res.result.data);\n                // #endif\n                let parseSignUp = that.activity.sign_up.date+' '+that.activity.sign_up.time;\n                let parseSignIn = that.activity.sign_in.date+' '+that.activity.sign_in.time;\n                that.activity.sign_up = parseSignUp;\n                that.activity.sign_in = parseSignIn;\n                that.authBizInfo = {_id:that.activity.card_id,name:that.activity.name,avatar:that.activity.avatar};\n                that.needWxAuth(that.authBizInfo);\n            },\n            goWebLogin(){\n                uni.navigateTo({\n                    \"url\":\"/pages/my/WebLogin\"\n                })\n            },\n\n            //开始聊天\n            async startTalk(){ \n\t\t\t\tlet that = this;\n                if(that.needAuthFlag){\n                    that.wxAuth(that.authBizInfo);\n                    setTimeout (() => {\n                        that.startTalk();\n                    } , 2000 );\n                    return;\n                }\n                that.updateUserAuth(that.authBizInfo);\n                // #ifdef MP-WEIXIN\n                setTimeout (() => {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\"url\":\"/pagesSys/site/service\"\n\t\t\t\t\t});\n                } , 1000 );\n                // #endif\n                // #ifdef H5\n                uni.navigateTo({\n                    \"url\":\"/pagesSys/site/WebService\"\n                })\n                // #endif\n            },\n\n            goHome(){\n                let that = this;\n                if(that.needAuthFlag){\n                    that.wxAuth(that.authBizInfo);\n                    setTimeout (() => {\n                        that.goHome();\n                    } , 2000 );\n                    return;\n                }\n                that.updateUserAuth(that.authBizInfo);\n                setTimeout (() => {\n                    uni.reLaunch({\n                        \"url\":\"/pages/site/trend?id=\"+that.authBizInfo._id,\n                    })\n                } , 1000 )\n            },\n            tapJoin(){\n\t\t\t\tlet that = this;\n                if(that.needAuthFlag){\n                    that.wxAuth(that.authBizInfo);\n                    setTimeout (() => {\n                        that.tapJoin();\n                    } , 2000 );\n                    return;\n                }\n                that.updateUserAuth(that.authBizInfo);\n                that.$nextTick(() => {\n                    that.isUps=true;\n\t\t\t\t\tthat.recipient.name=that.user.userInfo.nickName;\n                    that.$refs['showPopup'].open();\n                })\n            },\n\t\t\tasync getPhoneNumber(e) {\n\t\t\t\tlet that = this;\n\t\t\t    const res = await wx.cloud.callFunction({\n\t\t\t        name: 'sys',\n\t\t\t        data: {\n\t\t\t            $url:'getPhone',\n\t\t\t            cloudId:e.detail.cloudID\n\t\t\t        }\n\t\t\t    });\n\t\t\t\tif(res.result.code == 0){\n\t\t\t\t\twx.showToast({\n\t\t\t\t\t\ttitle: '授权成功',\n\t\t\t\t\t    success: function() {\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t\tthat.recipient.phone = res.result.data.phoneNumber;\n\t\t\t\t\tthat.$forceUpdate();\n\t\t\t\t}\n\t\t\t}, \n            cancel(type){\n                this.$refs['show' + type].close()\n            },\n            change(e){\n                if(e.show){\n                    this.isUps = true;\n                }else{\n                    this.isUps =false;\n                }\n            },\n            inputName(e){\n                this.user.userInfo.recipient.name = e.detail.value\n            },\n            inputPhone(e){\n                this.user.userInfo.recipient.phone = e.detail.value\n            },\n            inputRemark(e){\n                this.user.userInfo.recipient.remark = e.detail.value\n            },\n            //提交订单//活动跟商品公用该方法\n            async submitOrder(){\n                let that = this;\n                let msg = '活动报名';\n                //enrolled 对应活动中的报名状态\n                let items =[{id:that.activity._id,num:1,state:'enrolled',detail:that.activity}];\n\t\t\t\tlet order ={};\n\t\t\t\torder.seller_avatar=that.activity.avatar;\n\t\t\t\torder.seller_name=that.activity.name;\n\t\t\t\torder.user_id=that.user._id;\n\t\t\t\torder.avatar= that.user.userInfo.avatarUrl;\n\t\t\t\torder.name= that.user.userInfo.nickName;\n\t\t\t\torder.items=items;\n\t\t\t\torder.recipient=that.recipient;\n\t\t\t\torder.activity_id=that.activity._id;\n\t\t\t\torder.item_num=1;\n\t\t\t\torder.is_finished=false;\n\t\t\t\torder.order_type='activity';\n                // #ifdef MP-WEIXIN\n                await wx.cloud.callFunction({\n                    name:'cmn',\n                    data:{\n                        $url:'processOrder',\n                        order:order\n                    }\n                });\n                // #endif\n                // #ifdef H5\n                await cloudbase.callFunction({\n                    name:'cmn',\n                    data:{\n                        $url:'processOrder',\n                        order:order\n                    }\n                });\n                // #endif\n                uni.showToast({\n                    icon:'success',\n                    title:msg+'成功'\n                });\n                that.$refs['showPopup'].close();\n                setTimeout (() => {\n                    uni.navigateTo({\n                        url:'/pages/my/ActivityOrderList',\n                    });\n                } , 1000 )\n            },\n\n            goQrcode(id){\n                uni.navigateTo({\n                    url:\"/pagesCmn/activity/ActivityQrcode?id=\"+ id\n                })\n            },\n        }\n    }\n</script>\n\n<style>\n\t.page{\n\t\tz-index: 0;\n\t\theight: 100vh;\n\t}\n\t.screen-swiper{\n\t    min-height: 766rpx;\n\t}\n\tvideo {\n\t\twidth: 750rpx;\n\t}\n\timage {\n\t\twidth: 750rpx;\n\t}\n\n\t/* 底部分享 */\n\t.popup {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 950rpx;\n\t\tpadding-bottom:62px;\n\t\tposition: fixed;\n\t\tleft:0;\n\t\tbottom: 0;\n\t\twidth:100%;\n\t\tz-index: 95;\n\t\tborder-top-left-radius: 3%;\n\t\tborder-top-right-radius: 3%;\n\t}\n\t\n\t.popup-close {\n\t\tposition:absolute;\n\t\ttop:30rpx;\n\t\tleft:30rpx;\n\t\tfont-size: 39rpx;\n\t\ttext-align: center;\n\t\tfont-weight: bold;\n\t\tz-index: 199;\n\t}\n\n\t.popup-title {\n\t\tmargin-top:15rpx;\n\t\tline-height: 60rpx;\n\t\tfont-size: 28rpx;\n\t\tpadding: 5rpx 0;\n\t\ttext-align: center;\n\t\tfont-weight: bold;\n\t}\n\n\t.popup-content {\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: center;\n\t\tpadding: 5px;\n\t\tmax-height: 950rpx;\n\t}\n\n\t/* 起到固定的作用 ,从而解决原页面触摸穿透的问题*/\n\t.prevent {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\t/*自动回到顶部*/\n\t\t/*position: fixed;*/\n\t\ttop: 0;\n\t\tleft: 0;\n\t\toverflow: hidden;\n\t}\n\n\t/* 遮罩样式 */\n\t.shade{\n\t\twidth:100%;\n\t\theight: 100%;\n\t\tposition: fixed;\n\t\ttop:0;\n\t\tleft:0;\n\t\tz-index: 90;\n\t}\n\n\t.ups-height{\n\t\theight: 850rpx;\n\t\tposition: fixed;\n\t\tleft:0;\n\t\tbottom: 0;\n\t\tz-index: 99;\n\t}\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareActivityDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareActivityDetail.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}