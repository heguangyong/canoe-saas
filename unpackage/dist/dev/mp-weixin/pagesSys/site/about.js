(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesSys/site/about"],{400:function(e,r,t){"use strict";(function(e){t(5);n(t(4));var r=n(t(401));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(r.default)}).call(this,t(1)["createPage"])},401:function(e,r,t){"use strict";t.r(r);var n=t(402),a=t(404);for(var u in a)"default"!==u&&function(e){t.d(r,e,(function(){return a[e]}))}(u);t(406);var i,s=t(15),o=Object(s["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"dfeedee6",null,!1,n["components"],i);o.options.__file="pagesSys/site/about.vue",r["default"]=o.exports},402:function(e,r,t){"use strict";t.r(r);var n=t(403);t.d(r,"render",(function(){return n["render"]})),t.d(r,"staticRenderFns",(function(){return n["staticRenderFns"]})),t.d(r,"recyclableRender",(function(){return n["recyclableRender"]})),t.d(r,"components",(function(){return n["components"]}))},403:function(e,r,t){"use strict";var n;t.r(r),t.d(r,"render",(function(){return a})),t.d(r,"staticRenderFns",(function(){return i})),t.d(r,"recyclableRender",(function(){return u})),t.d(r,"components",(function(){return n}));var a=function(){var e=this,r=e.$createElement;e._self._c},u=!1,i=[];a._withStripped=!0},404:function(e,r,t){"use strict";t.r(r);var n=t(405),a=t.n(n);for(var u in n)"default"!==u&&function(e){t.d(r,e,(function(){return n[e]}))}(u);r["default"]=a.a},405:function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=u(t(9)),a=t(12);function u(e){return e&&e.__esModule?e:{default:e}}function i(e,r,t,n,a,u,i){try{var s=e[u](i),o=s.value}catch(c){return void t(c)}s.done?r(o):Promise.resolve(o).then(n,a)}function s(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var u=e.apply(r,t);function s(e){i(u,n,a,s,o,"next",e)}function o(e){i(u,n,a,s,o,"throw",e)}s(void 0)}))}}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var f={data:function(){return{bizCard:{_id:""},swiperList:[]}},onLoad:function(e){var r=this;e.id?r.bizCard._id=e.id:r.bizCard._id=r.user.userInfo.bizCardId,r.getDetail()},onShareAppMessage:function(e){return e.from,{title:"这是"+this.bizCard.name+"的名片，请惠存。",imageUrl:this.bizCard.cover||"",path:"/pagesSys/card/BizAboutExt?id="+this.bizCard._id,success:function(e){}}},computed:c({},(0,a.mapState)(["user"])),methods:c(c({},(0,a.mapMutations)(["updateUser"])),{},{getDetail:function(){var e=this;return s(n.default.mark((function r(){var t,a;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t=e,a=null,r.next=4,wx.cloud.callFunction({name:"sys",data:{$url:"getCardDetailById",id:t.bizCard._id}});case 4:a=r.sent,t.bizCard=a.result.data,t.bizCard.carousels&&t.bizCard.carousels.length>0&&t.bizCard.carousels.forEach((function(e){t.swiperList.push({url:e,type:"image"})})),t.bizCard.videos&&t.bizCard.videos.length>0&&t.bizCard.videos.forEach((function(e){t.swiperList.push({url:e,type:"video"})})),0==t.swiperList.length&&t.swiperList.push({url:t.bizCard.avatar,type:"image"});case 9:case"end":return r.stop()}}),r)})))()},shareBizCard:function(){e.showShareMenu({withShareTicket:!0})},goHome:function(){var r=this;return s(n.default.mark((function t(){var a,u,i,s;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=r,u=!1,t.t0=n.default.keys(a.user.userInfo.sites);case 3:if((t.t1=t.t0()).done){t.next=15;break}if(i=t.t1.value,a.bizCard._id!=a.user.userInfo.sites[i].bizCardId){t.next=13;break}return a.user.userInfo.bizCardId=a.user.userInfo.sites[i].bizCardId,a.user.userInfo.bizCardName=a.user.userInfo.sites[i].bizCardName,a.user.userInfo.bizCardAvatar=a.user.userInfo.sites[i].bizCardAvatar,a.user.userInfo.role=a.user.userInfo.sites[i].role,a.user.userInfo.accounts=a.user.userInfo.sites[i].accounts,u=!0,t.abrupt("break",15);case 13:t.next=3;break;case 15:return u||(a.user.userInfo.bizCardId=a.bizCard._id,a.user.userInfo.bizCardName=a.bizCard.name,a.user.userInfo.bizCardAvatar=a.bizCard.avatar,a.user.userInfo.role="normal",a.user.userInfo.accounts=a.bizCard.accounts,s={bizCardId:a.user.userInfo.bizCardId,bizCardName:a.user.userInfo.bizCardName,bizCardAvatar:a.user.userInfo.bizCardAvatar,role:a.user.userInfo.role,accounts:a.user.userInfo.accounts},console.log("新增商务站点",s),a.user.userInfo.sites.push(s)),console.log("isFind",u,"bizCardName",a.bizCard.name),a.updateUser(a.user),t.next=20,wx.cloud.callFunction({name:"sys",data:{$url:"updateUserInfo",id:a.user._id,userInfo:a.user.userInfo}});case 20:e.reLaunch({url:"/pages/site/trend?id="+a.bizCard._id});case 21:case"end":return t.stop()}}),t)})))()},dailPhone:function(){var r=this;e.makePhoneCall({phoneNumber:r.bizCard.phone})},goQQMap:function(){var e=this;wx.openLocation({latitude:e.bizCard.corp_address.latitude,longitude:e.bizCard.corp_address.longitude})},startTalk:function(){e.navigateTo({url:"/pagesSys/site/service"})}})};r.default=f}).call(this,t(1)["default"])},406:function(e,r,t){"use strict";t.r(r);var n=t(407),a=t.n(n);for(var u in n)"default"!==u&&function(e){t.d(r,e,(function(){return n[e]}))}(u);r["default"]=a.a},407:function(e,r,t){}},[[400,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pagesSys/site/about.js.map